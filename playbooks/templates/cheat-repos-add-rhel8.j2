!/bin/bash

echo "Enabling Repos for RHEL 8..."

hammer repository-set enable \
  --organization "ExampleCom" \
  --id 7416 \
  --releasever "8"

hammer repository-set enable \
  --organization "ExampleCom" \
  --id 7441 \
  --releasever "8"

echo "Setting Download Policy..."

hammer repository update \
  --organization "ExampleCom" \
  --product "Red Hat Enterprise Linux for x86_64" \
  --name "Red Hat Enterprise Linux 8 for x86_64 - BaseOS RPMs 8" \
  --download-policy immediate

hammer repository update \
  --organization "ExampleCom" \
  --product "Red Hat Enterprise Linux Server" \
  --name "Red Hat Enterprise Linux 8 for x86_64 - AppStream RPMs 8" \
  --download-policy immediate

echo "Starting Sync..."

hammer repository synchronize \
  --organization "ExampleCom" \
  --product "Red Hat Enterprise Linux for x86_64" \
  --name "Red Hat Enterprise Linux 8 for x86_64 - BaseOS RPMs 8"

hammer repository synchronize \
  --organization "ExampleCom" \
  --product "Red Hat Enterprise Linux for x86_64" \
  --name "Red Hat Enterprise Linux 8 for x86_64 - AppStream RPMs 8"
